# PlantsVsZombies
PlantsVsZombie is a classic game in which player prtotects their home from the coming horde of zombies, by strategically planting various types of plants with unique abilities.These plants, ranging from pea shooters to sunflowers, are used to fend off the zombies and prevent them from reaching the house.The game is designed to encourage strategic thinking and adaptability, offering a deeper and more rewarding experience as players advance.

# Resources
#  Plants vs. Zombies : Bullet Encyclopedia

Plants deploy a variety of bullet types to combat approaching zombies. Each projectile is uniquely designed, both visually and functionally, to suit different strategic purposes.

---

## ‚Ä¢ BulletMushRoom  
**Type:** Short-Range | **Effect:** Basic Damage  
A mystical, short-range projectile launched by mushrooms. Ideal for close-quarters defense during nighttime levels.

<img src="resources/graphics/Bullets/BulletMushRoom/BulletMushRoom_0.png" alt="BulletMushRoom" width="200"/>

---

## ‚Ä¢ SnowPea  
**Type:** Ranged | **Effect:** Slows Enemies  
Fired by Snow Peas, this icy bullet not only damages zombies but also reduces their movement speed, giving players more control over the battlefield.

<img src="resources/graphics/Bullets/PeaIce/PeaIce_0.png" alt="SnowPea" width="200"/>

---

## ‚Ä¢ PeaNormal  
**Type:** Ranged | **Effect:** Standard Damage  
The classic green pea used by Peashooters. A well-balanced, reliable projectile for general defense.

<img src="resources/graphics/Bullets/PeaNormal/PeaNormal_0.png" alt="PeaNormal" width="200"/>


---
# Plants vs. Zombies : Cards Encyclopedia

Plant cards represent the user-selectable units in the game. Each card corresponds to a specific plant type and contains visuals and metadata used in the game‚Äôs planting system.

---
## ‚Ä¢ Sunflower Card  
**Plant:** Sunflower | **Role:** Sun Production  
Generates additional sun to allow players to plant more units over time. A vital economic support unit.

<img src="resources/graphics/Cards/card_sunflower.png" alt="Sunflower Card"/>

---

## ‚Ä¢ Peashooter Card  
**Plant:** Peashooter | **Role:** Offensive  
Fires green peas at zombies. A basic but essential ranged attacker that forms the backbone of most defenses.

<img src="resources/graphics/Cards/card_peashooter.png" alt="Peashooter Card"/>

---

## ‚Ä¢ SnowPea Card  
**Plant:** SnowPea | **Role:** Offensive + Crowd Control  
Shoots ice peas that deal damage and slow down zombies. Useful for stalling large zombie waves.

<img src="resources/graphics/Cards/card_snowpea.png" alt="SnowPea Card"/>

---

## ‚Ä¢ PuffShroom Card  
**Plant:** PuffShroom | **Role:** Short-Range  
A no-cost mushroom that shoots short-range spores. Most effective in early or nighttime stages.

<img src="resources/graphics/Cards/card_puffshroom.png" alt="PuffShroom Card"/>

---

## ‚Ä¢ Cherry Bomb Card  
**Plant:** Cherry Bomb | **Role:** Explosive  
Detonates in a 3x3 area, dealing massive damage to all zombies nearby.  
![Cherry Bomb Card](resources/graphics/Cards/card_cherrybomb.png)

---

## ‚Ä¢ Chomper Card  
**Plant:** Chomper | **Role:** One-Hit Kill  
Devours the first zombie in its lane. Requires time to chew before the next attack.  
![Chomper Card](resources/graphics/Cards/card_chomper.png)

---

## ‚Ä¢ Hypno-shroom Card  
**Plant:** Hypno-shroom | **Role:** Mind Control  
Makes a zombie turn around and fight for the player once eaten.  
![Hypno-shroom Card](resources/graphics/Cards/card_hypnoshroom.png)

---

## ‚Ä¢ Ice-shroom Card  
**Plant:** Ice-shroom | **Role:** Freeze  
Freezes all zombies on screen temporarily, great for emergency control.  
![Ice-shroom Card](resources/graphics/Cards/card_iceshroom.png)

---

## ‚Ä¢ Jalape√±o Card  
**Plant:** Jalape√±o | **Role:** Lane Bomb  
Destroys all zombies in an entire row with a fiery explosion.  
![Jalape√±o Card](resources/graphics/Cards/card_jalapeno.png)

---

## ‚Ä¢ Potato Mine Card  
**Plant:** Potato Mine | **Role:** Delayed Explosive  
Needs time to arm itself. Once active, explodes when a zombie steps on it.  
![Potato Mine Card](resources/graphics/Cards/card_potatomine.png)

---

## ‚Ä¢ Red Wall-nut Card  
**Plant:** Red Wall-nut | **Role:** Heavy Defense  
A custom variant of the Wall-nut with enhanced health for stronger protection.  
![Red Wall-nut Card](resources/graphics/Cards/card_redwallnut_move.png)

---

## ‚Ä¢ Repeater Pea Card  
**Plant:** Repeater Pea | **Role:** High DPS  
Fires two peas at a time, doubling the damage of a standard Peashooter.  
![Repeater Pea Card](resources/graphics/Cards/card_repeaterpea.png)

---

## ‚Ä¢ Scaredy-shroom Card  
**Plant:** Scaredy-shroom | **Role:** Long-Range, Cowardly  
Shoots from afar but hides when zombies get too close.  
![Scaredy-shroom Card](resources/graphics/Cards/card_scaredyshroom.png)

---

## ‚Ä¢ Spikeweed Card  
**Plant:** Spikeweed | **Role:** Ground Trap  
Damages zombies that walk over it. Also pops tires of vehicles.  
![Spikeweed Card](resources/graphics/Cards/card_spikeweed.png)

---

## ‚Ä¢ Threepeater Card  
**Plant:** Threepeater | **Role:** Triple Lane Attacker  
Fires peas into three lanes (the center lane and both adjacent ones).  
![Threepeater Card](resources/graphics/Cards/card_threepeashooter.png)

---

## ‚Ä¢ Squash Card  
**Plant:** Squash | **Role:** Instant Kill  
Crushes the nearest zombie in front or behind it.  
![Squash Card](resources/graphics/Cards/card_squash.png)

---

## ‚Ä¢ Sun-shroom Card  
**Plant:** Sun-shroom | **Role:** Scaled Sun Production  
Produces small suns initially but larger suns as it matures.  
![Sun-shroom Card](resources/graphics/Cards/card_sunshroom.png)

---

## ‚Ä¢ wall-nut Card  
**Plant:** Wall-nut | **Role:** Standard Defense  
Blocks zombie progress with high health. Buys time for other plants to attack.  
![Wall-nut Card](resources/graphics/Cards/card_wallnut.png)


# Background System for Levels

In the game, there are three different backgrounds that change based on the level.

## 1. Day Mode
In **Day Mode**, the background shows a bright and sunny environment, perfect for daytime play.

![Day Mode Background](resources/graphics/Items/Background/Background_0.jpg)

---
## 2. Night Mode
In **Night Mode**, the background switches to a darker, night-time atmosphere with stars and the moon.

![Night Mode Background](resources/graphics/Items/Background/Background_1.jpg)

---
## 3. Level Divider Line
The **Level Divider Line** separates different sections of the screen, such as the sun production area from the gameplay area.

![Level Divider Line](resources/graphics/Items/Background/Background_4.jpg)

# Plants vs. Zombies ‚Äì Plant Encyclopedia

A curated reference of all plants featured in the game, categorized by function and utility. Use this guide to understand their abilities, strengths, and ideal placement in your defense strategy.

---

## üåû **Sun-Producing Plants**  
These plants help produce sun, an essential resource for planting other plants.

### ‚Ä¢ Sunflower  
**Type:** Support | **Role:** Sun Producer  
Essential for economy. Produces 25 sun every few seconds.  
![Sunflower](resources/graphics/Plants/SunFlower/SunFlower_9.png)

### ‚Ä¢ Sun-shroom  
**Type:** Fungal | **Role:** Scalable Sun Producer  
Starts small but produces bigger sun as it matures.  
![Sun-shroom](resources/graphics/Plants/SunShroom/SunShroom/SunShroom_9.png)

---

## ‚öîÔ∏è **Offensive Plants**  
These plants focus on attacking zombies.

### ‚Ä¢ Peashooter  
**Type:** Offense | **Role:** Basic Attacker  
Shoots a single green pea. Solid early-game attacker.  
![Peashooter](resources/graphics/Plants/Peashooter/Peashooter_0.png)

### ‚Ä¢ Snow Pea  
**Type:** Offense | **Role:** Freeze + Damage  
Slows enemies with icy peas while dealing damage.  
![Snow Pea](resources/graphics/Plants/SnowPea/SnowPea_0.png)

### ‚Ä¢ Repeater Pea  
**Type:** Offense | **Role:** Double Attacker  
Fires two peas per volley for increased damage output.  
![Repeater Pea](resources/graphics/Plants/RepeaterPea/RepeaterPea_0.png)

### ‚Ä¢ Threepeater  
**Type:** Offense | **Role:** Multi-Lane Attacker  
Fires peas into its own lane plus the two adjacent lanes.  
![Threepeater](resources/graphics/Plants/Threepeater/Threepeater_9.png)

---

## üß† **Control Plants**  
These plants focus on controlling the movement of zombies or altering their behavior.

### ‚Ä¢ Ice-shroom  
**Type:** Fungal | **Role:** Global Freeze  
Freezes all zombies on the screen for a short duration.  
![Ice-shroom](resources/graphics/Plants/IceShroom/IceShroom/IceShroom_0.png)

### ‚Ä¢ Hypno-shroom  
**Type:** Fungal | **Role:** Mind Control  
Turns zombies into allies after being eaten.  
![Hypno-shroom](resources/graphics/Plants/HypnoShroom/HypnoShroom/HypnoShroom_0.png)

### ‚Ä¢ Scaredy-shroom  
**Type:** Fungal | **Role:** Cowardly Sniper  
Shoots long range but hides when zombies get close.  
![Scaredy-shroom](resources/graphics/Plants/ScaredyShroom/ScaredyShroom/ScaredyShroom_13.png)

---

## üõ°Ô∏è **Defensive Plants**  
These plants help defend your lawn by blocking or slowing down zombies.

### ‚Ä¢ Wall-nut  
**Type:** Defense | **Role:** Basic Blocker  
Absorbs damage and stalls zombie progress.  
![Wall-nut](resources/graphics/Plants/WallNut/WallNut/WallNut_0.png)

### ‚Ä¢ Red Wall-nut   
**Type:** Defense | **Role:** Reinforced Blocker  
Stronger version of Wall-nut. Absorbs more damage.  
![Red Wall-nut](resources/graphics/Plants/WallNut/RedWallNutBowling/RedWallNutBowling_0.png)

---

## üí• **Explosive Plants**  
These plants deal high damage over a wide area.

### ‚Ä¢ Cherry Bomb  
**Type:** Explosive | **Role:** Area Nuke  
Explodes in a 3x3 area, instantly vaporizing zombies.  
![Cherry Bomb](resources/graphics/Plants/CherryBomb/CherryBomb_0.png)

### ‚Ä¢ Jalape√±o  
**Type:** Explosive | **Role:** Lane Nuke  
Burns all zombies in one lane instantly.  
![Jalape√±o](resources/graphics/Plants/Jalapeno/Jalapeno/Jalapeno_0.png)

### ‚Ä¢ Potato Mine  
**Type:** Trap | **Role:** Delayed Explosive  
Arms over time, then explodes on contact with a zombie.  
![Potato Mine](resources/graphics/Plants/PotatoMine/PotatoMine/PotatoMine_0.png)

### ‚Ä¢ Squash  
**Type:** Melee | **Role:** Instant Stomp  
Leaps to crush the nearest zombie in a single hit.  
![Squash](resources/graphics/Plants/Squash/SquashAttack/SquashAttack_1.png)


---

## üåô **Night-Exclusive Plants**  
These plants are effective only during nighttime or limited-light conditions.

### ‚Ä¢ Puff-shroom  
**Type:** Fungal | **Role:** Short-Range Attacker  
A free mushroom that fires short-range spores. Great for night-time economy starts.  
![Puff-shroom](resources/graphics/Plants/PuffShroom/PuffShroomSleep/PuffShroomSleep_0.png)

---

## üß© **Additional Plants**  
These plants provide unique abilities that don‚Äôt fit into the other categories.

### ‚Ä¢ Chomper  
**Type:** Melee | **Role:** One-Hit Chomp  
Eats one zombie whole, then takes time to chew.  
![Chomper](resources/graphics/Plants/Chomper/Chomper/Chomper_0.png)

### ‚Ä¢Spikeweed  
**Type:** Trap | **Role:** Ground Damage  
Hurts zombies walking over it and disables tires.  
![Spikeweed](resources/graphics/Plants/Spikeweed/Spikeweed/Spikeweed_0.png)

### ‚Ä¢ Threepeater  
**Type:** Offense | **Role:** Multi-Lane Attacker  
Fires peas into its own lane plus the two adjacent lanes.  
![Threepeater](resources/graphics/Plants/Threepeater/Threepeater_9.png)

---
# Plants vs. Zombies ‚Äì Zombie Encyclopedia
Zombies are the main enemies in Plants vs. Zombies, each with distinct abilities and behaviors.
## Normal Zombie  
**Role:** Standard Enemy  
Slow-moving with low health. The most basic threat in your garden.  
![Zombie](resources/graphics/Zombies/NormalZombie/Zombie/Zombie_0.png)

---

## üèÅ Flag Zombie  
**Role:** Wave Announcer  
Same stats as a basic zombie, but carries a flag to signal large waves.  
![Flag Zombie](resources/graphics/Zombies/FlagZombie/FlagZombie/FlagZombie_0.png)

---

## üß¢ Conehead Zombie  
**Role:** Armored Basic  
Wears a traffic cone for light armor, making him tougher than the average zombie.  
![Conehead Zombie](resources/graphics/Zombies/ConeheadZombie/ConeheadZombie/ConeheadZombie_0.png)

---

## ü™ñ Buckethead Zombie  
**Role:** Heavily Armored  
Takes a lot of hits due to the metal bucket on his head. Strong and persistent.  
![Buckethead Zombie](resources/graphics/Zombies/BucketheadZombie/BucketheadZombie/BucketheadZombie_1.png)

---

## üì∞ Newspaper Zombie  
**Role:** Speed Boost  
Carries a newspaper that acts as a shield. Speeds up and gets angry when it‚Äôs destroyed.  
![Newspaper Zombie](resources/graphics/Zombies/NewspaperZombie/NewspaperZombie/NewspaperZombie_0.png)

---

## **1. Module: `source.tool`**

### **Class: `State`**
- **Purpose**: A base class for managing game states (e.g., menu, level, victory screen).
- **Key Attributes**:
  - `start_time`: Tracks when the state started.
  - `current_time`: Tracks the current time in the state.
  - `done`: Indicates if the state is finished.
  - `next`: The next state to transition to.
  - `persist`: Data shared between states.
- **Key Methods**:
  - `startup(current_time, persist)`: Abstract method to initialize the state.
  - `cleanup()`: Cleans up the state and returns persistent data.
  - `update(surface, keys, current_time)`: Abstract method to update the state.

### **Class: `Control`**
- **Purpose**: Manages the game loop, state transitions, and input handling.
- **Key Attributes**:
  - `screen`: The game display surface.
  - `state_dict`: A dictionary of all game states.
  - `state`: The current active state.
  - `keys`: Tracks keyboard input.
  - `mouse_pos`: Tracks mouse position.
- **Key Methods**:
  - `setup_states(state_dict, start_state)`: Initializes the game states.
  - `update()`: Updates the current state and handles state transitions.
  - `event_loop()`: Processes user input events.
  - `main()`: Runs the main game loop.

---

## **2. Module: `source.component.map`**

### **Class: `Map`**
- **Purpose**: Manages the grid-based game map.
- **Key Attributes**:
  - `width`: The width of the map in grid cells.
  - `height`: The height of the map in grid cells.
  - `map`: A 2D list representing the map's grid state.
- **Key Methods**:
  - `isValid(map_x, map_y)`: Checks if a grid position is within bounds.
  - `isMovable(map_x, map_y)`: Checks if a grid cell is empty.
  - `getMapIndex(x, y)`: Converts pixel coordinates to grid indices.
  - `getMapGridPos(map_x, map_y)`: Converts grid indices to pixel coordinates.
  - `setMapGridType(map_x, map_y, type)`: Sets the type of a grid cell.
  - `getRandomMapIndex()`: Returns a random grid position.
  - `showPlant(x, y)`: Determines if a plant can be placed at a given position.

---

## **3. Module: `source.component.menubar`**

### **Class: `Card`**
- **Purpose**: Represents a plant card in the menu bar or card panel.
- **Key Attributes**:
  - `rect`: The position and size of the card.
  - `name_index`: Index of the card in the card list.
  - `sun_cost`: The sun cost of the plant.
  - `frozen_time`: Cooldown time after the card is used.
- **Key Methods**:
  - `checkMouseClick(mouse_pos)`: Checks if the card was clicked.
  - `canClick(sun_value, current_time)`: Determines if the card can be clicked.
  - `setFrozenTime(current_time)`: Updates the card's cooldown timer.
  - `draw(surface)`: Draws the card on the given surface.

### **Class: `MenuBar`**
- **Purpose**: Represents the menu bar where players select plants.
- **Key Attributes**:
  - `rect`: The position and size of the menu bar.
  - `sun_value`: The player's current sun value.
  - `card_list`: A list of `Card` objects in the menu bar.
- **Key Methods**:
  - `setupCards(card_list)`: Initializes the cards in the menu bar.
  - `checkCardClick(mouse_pos)`: Checks if a card was clicked.
  - `decreaseSunValue(value)`: Decreases the player's sun value.
  - `draw(surface)`: Draws the menu bar and its cards.

### **Class: `Panel`**
- **Purpose**: Represents the card selection panel before starting a level.
- **Key Attributes**:
  - `selected_cards`: List of cards selected by the player.
  - `card_list`: List of all available cards in the panel.
- **Key Methods**:
  - `setupCards(card_list)`: Initializes the cards in the panel.
  - `checkCardClick(mouse_pos)`: Handles card selection and deselection.
  - `checkStartButtonClick(mouse_pos)`: Checks if the "Start" button was clicked.
  - `draw(surface)`: Draws the panel and its cards.

---

## **4. Module: `source.component.plant`**

### **Class: `Plant`**
- **Purpose**: A base class for all plants in the game.
- **Key Attributes**:
  - `name`: The name of the plant.
  - `health`: The health of the plant.
  - `state`: The current state of the plant (e.g., idle, attack).
  - `bullet_group`: The group of bullets fired by the plant.
- **Key Methods**:
  - `canAttack(zombie)`: Checks if the plant can attack a zombie.
  - `setAttack()`: Sets the plant to attack mode.
  - `setIdle()`: Sets the plant to idle mode.
  - `update(game_info)`: Updates the plant's state and animation.

### **Class: `SunFlower`**
- **Purpose**: Produces sun over time.
- **Key Attributes**:
  - `sun_timer`: Tracks the time since the last sun was produced.
- **Key Methods**:
  - `idling()`: Produces sun at regular intervals.

### **Class: `PeaShooter`**
- **Purpose**: Shoots peas at zombies.
- **Key Attributes**:
  - `shoot_timer`: Tracks the time since the last shot.
- **Key Methods**:
  - `attacking()`: Fires a pea at regular intervals.

---

## **5. Module: `source.component.zombie`**

### **Class: `Zombie`**
- **Purpose**: A base class for all zombies in the game.
- **Key Attributes**:
  - `name`: The name of the zombie.
  - `health`: The health of the zombie.
  - `state`: The current state of the zombie (e.g., walk, attack).
  - `speed`: The movement speed of the zombie.
- **Key Methods**:
  - `setWalk()`: Sets the zombie to walk mode.
  - `setAttack(prey)`: Sets the zombie to attack mode.
  - `setDie()`: Sets the zombie to die mode.
  - `update(game_info)`: Updates the zombie's state and animation.

### **Class: `NormalZombie`**
- **Purpose**: Represents a basic zombie.
- **Key Attributes**:
  - Inherits all attributes from `Zombie`.
- **Key Methods**:
  - Inherits all methods from `Zombie`.

### **Class: `ConeHeadZombie`**
- **Purpose**: A zombie with extra health due to its cone helmet.
- **Key Attributes**:
  - `helmet`: Indicates if the zombie has a helmet.
- **Key Methods**:
  - Inherits all methods from `Zombie`.

---

## **6. Module: `source.state.mainmenu`**

### **Class: `Menu`**
- **Purpose**: Represents the main menu of the game.
- **Key Attributes**:
  - `bg_image`: The background image of the menu.
  - `option_frames`: Frames for the menu options.
- **Key Methods**:
  - `setupBackground()`: Sets up the menu background.
  - `checkOptionClick(mouse_pos)`: Checks if a menu option was clicked.
  - `update(surface, current_time, mouse_pos, mouse_click)`: Updates the menu state.

---

## **7. Module: `source.state.screen`**

### **Class: `Screen`**
- **Purpose**: A base class for victory and defeat screens.
- **Key Attributes**:
  - `end_time`: The duration of the screen.
  - `image`: The image displayed on the screen.
- **Key Methods**:
  - `setupImage(name)`: Sets up the screen image.
  - `update(surface, current_time, mouse_pos, mouse_click)`: Updates the screen state.

### **Class: `GameVictoryScreen`**
- **Purpose**: Represents the victory screen.
- **Key Methods**:
  - `getImageName()`: Returns the name of the victory image.

### **Class: `GameLoseScreen`**
- **Purpose**: Represents the defeat screen.
- **Key Methods**:
  - `getImageName()`: Returns the name of the defeat image.

---

## **8. Module: `source.state.level`**

### **Class: `Level`**
- **Purpose**: Manages the gameplay for a level.
- **Key Attributes**:
  - `map`: The game map for the level.
  - `zombie_list`: A list of zombies to spawn.
  - `plant_groups`: Groups of plants in the level.
- **Key Methods**:
  - `loadMap()`: Loads the level's map data.
  - `setupBackground()`: Sets up the level's background.
  - `setupZombies()`: Prepares the zombie spawn list.
  - `update(surface, current_time, mouse_pos, mouse_click)`: Updates the level state.

---

# Requirement
* Python 3.7 
* Notice: python version 3.7 is advisable, but not required. For LINUX: if your Linux system has a preinstalled python 3+, it's ok to run this game. Updating to python 3.7 directly may break LINUX Mint.
* Python-Pygame 1.9

# How To Start Game
$ python main.py

# How to Play
* use mouse to collect sun, select the plant cards and seed the plant 
* you can set the start level by changing START_LEVEL_NUM value in source/constants.py
  * level 1 and 2Ôºöday level
  * level 3: night level
  * level 4: moving card select level
  * level 5: wallnut bowling level

# Demo
![demo1](https://raw.githubusercontent.com/marblexu/PythonPlantsVsZombies/master/demo/demo1.jpg)
![demo2](https://raw.githubusercontent.com/marblexu/PythonPlantsVsZombies/master/demo/demo2.jpg)

